shadow$provide.module$node_modules$markdown_it_footnote$index=function(global,require,module,exports){function render_footnote_anchor_name(tokens,idx,options,env){tokens=Number(tokens[idx].meta.id+1).toString();idx="";"string"===typeof env.docId&&(idx="-"+env.docId+"-");return idx+tokens}function render_footnote_caption(tokens,idx){var n=Number(tokens[idx].meta.id+1).toString();0<tokens[idx].meta.subId&&(n+=":"+tokens[idx].meta.subId);return"["+n+"]"}function render_footnote_ref(tokens,idx,options,
env,slf){var id=slf.rules.footnote_anchor_name(tokens,idx,options,env,slf);options=slf.rules.footnote_caption(tokens,idx,options,env,slf);env=id;0<tokens[idx].meta.subId&&(env+=":"+tokens[idx].meta.subId);return'\x3csup class\x3d"footnote-ref"\x3e\x3ca href\x3d"#fn'+id+'" id\x3d"fnref'+env+'"\x3e'+options+"\x3c/a\x3e\x3c/sup\x3e"}function render_footnote_block_open(tokens,idx,options){return(options.xhtmlOut?'\x3chr class\x3d"footnotes-sep" /\x3e\n':'\x3chr class\x3d"footnotes-sep"\x3e\n')+'\x3csection class\x3d"footnotes"\x3e\n\x3col class\x3d"footnotes-list"\x3e\n'}
function render_footnote_block_close(){return"\x3c/ol\x3e\n\x3c/section\x3e\n"}function render_footnote_open(tokens,idx,options,env,slf){options=slf.rules.footnote_anchor_name(tokens,idx,options,env,slf);0<tokens[idx].meta.subId&&(options+=":"+tokens[idx].meta.subId);return'\x3cli id\x3d"fn'+options+'" class\x3d"footnote-item"\x3e'}function render_footnote_close(){return"\x3c/li\x3e\n"}function render_footnote_anchor(tokens,idx,options,env,slf){options=slf.rules.footnote_anchor_name(tokens,idx,options,
env,slf);0<tokens[idx].meta.subId&&(options+=":"+tokens[idx].meta.subId);return' \x3ca href\x3d"#fnref'+options+'" class\x3d"footnote-backref"\x3e↩︎\x3c/a\x3e'}module.exports=function(md){var parseLinkLabel=md.helpers.parseLinkLabel,isSpace=md.utils.isSpace;md.renderer.rules.footnote_ref=render_footnote_ref;md.renderer.rules.footnote_block_open=render_footnote_block_open;md.renderer.rules.footnote_block_close=render_footnote_block_close;md.renderer.rules.footnote_open=render_footnote_open;md.renderer.rules.footnote_close=
render_footnote_close;md.renderer.rules.footnote_anchor=render_footnote_anchor;md.renderer.rules.footnote_caption=render_footnote_caption;md.renderer.rules.footnote_anchor_name=render_footnote_anchor_name;md.block.ruler.before("reference","footnote_def",function(state,startLine,endLine,silent){var pos,initial,offset;var oldTShift=state.bMarks[startLine]+state.tShift[startLine];var max=state.eMarks[startLine];if(oldTShift+4>max||91!==state.src.charCodeAt(oldTShift)||94!==state.src.charCodeAt(oldTShift+
1))return!1;for(pos=oldTShift+2;pos<max;pos++){if(32===state.src.charCodeAt(pos))return!1;if(93===state.src.charCodeAt(pos))break}if(pos===oldTShift+2||pos+1>=max||58!==state.src.charCodeAt(++pos))return!1;if(silent)return!0;pos++;state.env.footnotes||(state.env.footnotes={});state.env.footnotes.refs||(state.env.footnotes.refs={});silent=state.src.slice(oldTShift+2,pos-2);state.env.footnotes.refs[":"+silent]=-1;oldTShift=new state.Token("footnote_reference_open","",1);oldTShift.meta={label:silent};
oldTShift.level=state.level++;state.tokens.push(oldTShift);silent=state.bMarks[startLine];oldTShift=state.tShift[startLine];var oldSCount=state.sCount[startLine];var oldParentType=state.parentType;var posAfterColon=pos;for(initial=offset=state.sCount[startLine]+pos-(state.bMarks[startLine]+state.tShift[startLine]);pos<max;){var ch=state.src.charCodeAt(pos);if(isSpace(ch))9===ch?offset+=4-offset%4:offset++;else break;pos++}state.tShift[startLine]=pos-posAfterColon;state.sCount[startLine]=offset-initial;
state.bMarks[startLine]=posAfterColon;state.blkIndent+=4;state.parentType="footnote";state.sCount[startLine]<state.blkIndent&&(state.sCount[startLine]+=state.blkIndent);state.md.block.tokenize(state,startLine,endLine,!0);state.parentType=oldParentType;state.blkIndent-=4;state.tShift[startLine]=oldTShift;state.sCount[startLine]=oldSCount;state.bMarks[startLine]=silent;oldTShift=new state.Token("footnote_reference_close","",-1);oldTShift.level=--state.level;state.tokens.push(oldTShift);return!0},{alt:["paragraph",
"reference"]});md.inline.ruler.after("image","footnote_inline",function(state,silent){var tokens,max=state.posMax;var labelEnd=state.pos;if(labelEnd+2>=max||94!==state.src.charCodeAt(labelEnd)||91!==state.src.charCodeAt(labelEnd+1))return!1;var labelStart=labelEnd+2;labelEnd=parseLinkLabel(state,labelEnd+1);if(0>labelEnd)return!1;if(!silent){state.env.footnotes||(state.env.footnotes={});state.env.footnotes.list||(state.env.footnotes.list=[]);silent=state.env.footnotes.list.length;state.md.inline.parse(state.src.slice(labelStart,
labelEnd),state.md,state.env,tokens=[]);var token=state.push("footnote_ref","",0);token.meta={id:silent};state.env.footnotes.list[silent]={content:state.src.slice(labelStart,labelEnd),tokens}}state.pos=labelEnd+1;state.posMax=max;return!0});md.inline.ruler.after("footnote_inline","footnote_ref",function(state,silent){var pos,max=state.posMax;var label=state.pos;if(label+3>max||!state.env.footnotes||!state.env.footnotes.refs||91!==state.src.charCodeAt(label)||94!==state.src.charCodeAt(label+1))return!1;
for(pos=label+2;pos<max;pos++){if(32===state.src.charCodeAt(pos)||10===state.src.charCodeAt(pos))return!1;if(93===state.src.charCodeAt(pos))break}if(pos===label+2||pos>=max)return!1;pos++;label=state.src.slice(label+2,pos-1);if("undefined"===typeof state.env.footnotes.refs[":"+label])return!1;if(!silent){state.env.footnotes.list||(state.env.footnotes.list=[]);0>state.env.footnotes.refs[":"+label]?(silent=state.env.footnotes.list.length,state.env.footnotes.list[silent]={label,count:0},state.env.footnotes.refs[":"+
label]=silent):silent=state.env.footnotes.refs[":"+label];var footnoteSubId=state.env.footnotes.list[silent].count;state.env.footnotes.list[silent].count++;var token=state.push("footnote_ref","",0);token.meta={id:silent,subId:footnoteSubId,label}}state.pos=pos;state.posMax=max;return!0});md.core.ruler.after("inline","footnote_tail",function(state){var l,j,current,currentLabel,insideRef=!1,refTokens={};if(state.env.footnotes&&(state.tokens=state.tokens.filter(function(tok){if("footnote_reference_open"===
tok.type)return insideRef=!0,current=[],currentLabel=tok.meta.label,!1;if("footnote_reference_close"===tok.type)return insideRef=!1,refTokens[":"+currentLabel]=current,!1;insideRef&&current.push(tok);return!insideRef}),state.env.footnotes.list)){var list=state.env.footnotes.list;var token=new state.Token("footnote_block_open","",1);state.tokens.push(token);var i=0;for(l=list.length;i<l;i++){token=new state.Token("footnote_open","",1);token.meta={id:i,label:list[i].label};state.tokens.push(token);
if(list[i].tokens){var tokens=[];token=new state.Token("paragraph_open","p",1);token.block=!0;tokens.push(token);token=new state.Token("inline","",0);token.children=list[i].tokens;token.content=list[i].content;tokens.push(token);token=new state.Token("paragraph_close","p",-1);token.block=!0;tokens.push(token)}else list[i].label&&(tokens=refTokens[":"+list[i].label]);tokens&&(state.tokens=state.tokens.concat(tokens));var lastParagraph="paragraph_close"===state.tokens[state.tokens.length-1].type?state.tokens.pop():
null;var t=0<list[i].count?list[i].count:1;for(j=0;j<t;j++)token=new state.Token("footnote_anchor","",0),token.meta={id:i,subId:j,label:list[i].label},state.tokens.push(token);lastParagraph&&state.tokens.push(lastParagraph);token=new state.Token("footnote_close","",-1);state.tokens.push(token)}token=new state.Token("footnote_block_close","",-1);state.tokens.push(token)}})}}
//# sourceMappingURL=module$node_modules$markdown_it_footnote$index.js.map
